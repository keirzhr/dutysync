<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="../css/inputduty.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <title>DutySync - Dashboard</title>
</head>
<body>
  <!-- Sidebar -->
  <button class="hamburger" id="hamburger">☰</button>
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <img src="../images/logo.png" class="logo-img">
      <span class="logo-text">DutySync</span>
    </div>
    <nav class="nav-menu">
      <!-- Dashboard Section -->
    <div class="nav-section">
      <!-- Dashboard Parent -->
      <a class="nav-item active" data-page="dashboard" data-parent="dashboard">
        <i class="fas fa-chart-pie nav-icon"></i>
        <span class="nav-text">Dashboard</span>
        <span class="nav-arrow">›</span>
      </a>

      <!-- Dashboard Sub-menu -->
      <div class="sub-menu" id="dashboard-submenu">
        <a class="nav-item sub-item" data-page="all-pages">
          <span class="nav-text">All Pages</span>
        </a>
        <a class="nav-item sub-item" data-page="reports">
          <span class="nav-text">Reports</span>
        </a>
        <a class="nav-item sub-item" data-page="input-duty">
          <span class="nav-text">Input Duty</span>
        </a>
        <a class="nav-item sub-item" data-page="view-duty-log">
          <span class="nav-text">View Duty Log</span>
        </a>
      </div>
    </div>

      
      <!-- Payslip Section -->
      <div class="nav-section">
        <a class="nav-item" data-page="payslip" data-parent="payslip">
          <i class="fas fa-money-bill-wave nav-icon"></i>
          <span class="nav-text">Payslip</span>
          <span class="nav-arrow">›</span>
        </a>
        <div class="sub-menu" id="payslip-submenu">
          <a class="nav-item sub-item" data-page="view-payslip">
            <span class="nav-text">View Payslip</span>
          </a>
          <a class="nav-item sub-item" data-page="generate-payslip">
            <span class="nav-text">Generate Payslip</span>
          </a>
        </div>
      </div>
      <!-- Analytics Section -->
      <div class="nav-section">
        <a class="nav-item" data-page="analytics" data-parent="analytics">
          <i class="fas fa-chart-line nav-icon"></i>
          <span class="nav-text">Analytics</span>
          <span class="nav-arrow">›</span>
        </a>
        <div class="sub-menu" id="analytics-submenu">
          <a class="nav-item sub-item" data-page="total-hours">
            <span class="nav-text">Total Hours</span>
          </a>
          <a class="nav-item sub-item" data-page="net-pay-trends">
            <span class="nav-text">Net Pay Trends</span>
          </a>
          <a class="nav-item sub-item" data-page="deduction-breakdown">
            <span class="nav-text">Deduction Breakdown</span>
          </a>
        </div>
      </div>
      <!-- Settings -->
      <a class="nav-item" data-page="settings">
        <i class="fas fa-cog nav-icon"></i>
        <span class="nav-text">Settings</span>
      </a>
      <!-- Help -->
      <a class="nav-item" data-page="help">
        <i class="fas fa-question-circle nav-icon"></i>
        <span class="nav-text">Help</span>
      </a>
    </nav>
    <div class="sidebar-footer">
      <div class="user-avatar" id="userAvatar">--</div>
      <div class="user-info">
        <div class="user-name" id="userName">Loading...</div>
        <div class="user-email" id="userEmail">Loading...</div>
      </div>
      <span class="user-arrow">›</span>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="main-content">
    <header>
      <div class="header-content">
        <div class="header-left">
          <div class="breadcrumb">
            <span class="breadcrumb-parent" id="breadcrumbParent">Dashboard</span>
            <span class="breadcrumb-separator" id="breadcrumbSeparator">/</span>
            <span class="breadcrumb-current" id="breadcrumbCurrent"></span>
          </div>
        </div>
        <div class="header-right">
          <button class="notification-btn" id="notificationBtn">
            <i class="fas fa-bell"></i>
            <span class="notification-badge">3</span>
          </button>
        </div>
      </div>
    </header>
    <div class="content">
      <!-- Dashboard Section -->
      <section class="content-section active" id="dashboard">
        <div class="cards-grid">
          <div class="card">
            <div class="card-title">Total Hours This Month</div>
            <div class="card-value">160</div>
            <div class="card-subtitle">+5% from last month</div>
          </div>
          <div class="card">
            <div class="card-title">Net Pay</div>
            <div class="card-value">₱25,000</div>
            <div class="card-subtitle">Current month</div>
          </div>
        </div>
      </section>

      <!-- Input Duty Section -->
<!-- Replace your Input Duty Section with this updated version -->
<!-- Input Duty Section -->
<section class="content-section" id="input-duty">

  <div class="input-duty-container" style="display: flex; gap: 20px; flex-wrap: wrap; margin-top: 24px;">
    <!-- Left Panel: Work Hours Input Form -->
    <div class="left-panel" style="flex: 1; min-width: 300px;">
      <h3>Work Hours Input</h3>
      <label>Date</label>
      <input type="date" id="inputDate" value="2025-11-17">

      <label>Time In</label>
      <input type="time" id="timeIn" placeholder="7:00am">

      <label>Time Out</label>
      <input type="time" id="timeOut" placeholder="2:00pm">

      <label>Rate</label>
      <select id="rate">
        <option>Regular Rate</option>
        <option>Night Shift</option>
      </select>

      <label>Over Time</label>
      <input type="text" id="overTime" placeholder="2:00pm to 3:00pm">

      <label>Special Day</label>
      <select id="specialDay">
        <option>None</option>
        <option>Holiday</option>
      </select>

      <div style="margin-top: 15px;">
        <button class="btn" id="clearDuty" style="background: gray; margin-right: 10px;">Clear</button>
        <button class="btn" id="saveDuty" style="background: darkgray;">Done</button>
      </div>
    </div>

    <!-- Right Panel: Duty Records (Table for Desktop, Cards for Mobile) -->
    <div class="right-panel" style="flex: 2; min-width: 400px;">
      <h3>Duty Records</h3>
      
      <!-- Desktop Table View -->
      <div class="table-wrapper">
        <table style="width: 100%; border-collapse: collapse;">
          <thead>
            <tr>
              <th>Date</th>
              <th>Time In</th>
              <th>Time Out</th>
              <th>Rate</th>
              <th>Over Time</th>
              <th>Special Day</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody id="dutyTableBody">
            <!-- Firebase records will populate here -->
          </tbody>
        </table>
      </div>

      <!-- Mobile Card View -->
      <div class="duty-cards-container" id="dutyCardsContainer">
        <!-- Cards will be generated here -->
      </div>
    </div>
  </div>
    <div class="bottom-panel">
    <h3>Completed Hours Graph</h3>
    <canvas id="completedTimeChart" style="width:100%; max-width:200px; height:100px;"></canvas>
  </div>
</section>

    <section class="content-section" id="settings">
    <div class="card">
      <h3 style="margin-bottom: 15px;">Preferences</h3>

      <!-- Dark Mode Toggle -->
<div class="form-group theme-toggle">
  <label style="display: flex; justify-content: space-between; align-items: center; cursor: pointer;">
    <span>Dark Mode</span>
    <div class="toggle-switch">
      <input type="checkbox" id="themeCheckbox">
      <span class="slider round"></span>
    </div>
  </label>
</div>

      <div class="form-group">
        <label>Current Password</label>
        <input type="password" id="currentPassword" placeholder="Enter current password">
      </div>
      <div class="form-group">
        <label>New Password</label>
        <input type="password" id="newPassword" placeholder="Enter new password">
      </div>
      <button class="btn" id="updatePasswordBtn" style="margin-right: 10px;">Update Password</button>
      <button class="btn" id="logoutBtn" style="background: #dc3545;">Logout</button>
    </div>
  </section>

    <!-- Logout Modal -->
    <div id="logoutModal" class="modal">
      <div class="modal-content">
        <h3>Logout Confirmation</h3>
        <p>Are you sure you want to logout?</p>
        <div class="modal-buttons">
          <button id="confirmLogout" class="btn btn-logout">Logout</button>
          <button id="cancelLogout" class="btn btn-cancel">Cancel</button>
        </div>
      </div>
    </div>


      <!-- Other sections (add your existing sections here) -->
      <section class="content-section" id="all-pages">
        <div class="card"><p>All pages content here...</p></div>
      </section>

      <section class="content-section" id="reports">
        <div class="card"><p>Reports content here...</p></div>
      </section>

      <section class="content-section" id="help">
        <div class="card"><p>Help content here...</p></div>
      </section>
    </div>
    <footer>
      <p>&copy; 2025 DutySync. All rights reserved.</p>
    </footer>
  </main>

  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
  <script src="../js/script.js"></script>
  <script src="../js/inputduty.js"></script>
</body>
</html>